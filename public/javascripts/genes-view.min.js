function getItemsInClass(){return $.ajax({url:"/statistics/count/items/humanmine/Gene",type:"GET",error:function(e){console.log(e)},success:function(e){}})}$(document).ready(function(){window.currentClassView="Gene",document.title=window.currentClassView+" in HumanMine",$("#proteinsButton").removeClass("btn-primary").addClass("btn-default"),$("#genesButton").removeClass("btn-default").addClass("btn-primary");imtables.configure({TableCell:{PreviewTrigger:"click"}}),imtables.configure("TableResults.CacheFactor",20),imtables.loadDash("#dataTable",{start:0,size:25},{service:{root:"http://www.humanmine.org/humanmine/service"},query:{select:["*"],from:"Gene"}}).then(function(e){console.log("Table loaded",e)},function(e){console.error("Could not load table",e)});var c=document.getElementById("genesViewPieChart1");$.when(getItemsInClass()).done(function(e){for(var t=[],s=[],n=getColorsArray(e[0].response.results.length),r=0;r<e[0].response.results.length;r++)t.push(e[0].response.results[r].count),s.push(e[0].response.results[r].item);var o=new Chart(c,{type:"pie",data:{labels:s,datasets:[{data:t,backgroundColor:n}]},options:{elements:{center:{text:"90%",color:"#FF6384",fontStyle:"Arial",sidePadding:20}},legend:{display:!0,onClick:function(e){e.stopPropagation()}},hover:{mode:"nearest",intersect:!0},tooltips:{custom:function(e){e.opacity||(document.getElementById("genesViewPieChart1").style.cursor="default")}},onClick:function(e,t){if(t.length){var s=t[0]._index;selectedSegment=o.data.labels[s];var n=formatChartClickedSegmentAsConstraintForFilter(selectedSegment);filterTableByOrganismShortname(n[0],n[1])}o.update()}}}),a=e[0].response.results.length;5<a&&(a=5);for(r=0;r<a;r++){var l=e[0].response.results[r].item,i="("+e[0].response.results[r].count+")";$("#organismshortnamelist").append('<li class="list-group-item" style="border-width: 2px; border-style: solid; border-color: '+n[r]+';"><a class="nav-link" href="#" style="color:black; text-align:center;"><p class="float-md-left">'+l+'</p><p class="float-md-right">'+i+"</p></a></li>")}createSidebarEvents()})});