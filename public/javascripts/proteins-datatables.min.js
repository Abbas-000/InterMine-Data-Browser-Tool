$(document).ready(function(){var e={root:"http://www.humanmine.org/humanmine/service"},t={select:["*"],from:"Protein"};imtables.configure({TableCell:{PreviewTrigger:"click"}}),imtables.configure("TableResults.CacheFactor",20),imtables.loadDash("#dataTable",{start:0,size:25},{service:e,query:t}).then(function(e){console.log("Table loaded",e)},function(e){console.error("Could not load table",e)}),Chart.defaults.global.defaultFontFamily='-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif',Chart.defaults.global.defaultFontColor="#292b2c";var a=document.getElementById("myPieChart"),n={events:!1,animation:{duration:500,easing:"easeOutQuart",onComplete:function(){var c=this.chart.ctx;c.font=Chart.helpers.fontString(Chart.defaults.global.defaultFontFamily,"normal",Chart.defaults.global.defaultFontFamily),c.textAlign="center",c.textBaseline="bottom",this.data.datasets.forEach(function(e){for(var t=0;t<e.data.length;t++){var a=e._meta[Object.keys(e._meta)[0]].data[t]._model,n=e._meta[Object.keys(e._meta)[0]].total,o=a.innerRadius+(a.outerRadius-a.innerRadius)/2,r=a.startAngle,i=r+(a.endAngle-r)/2,l=o*Math.cos(i),s=o*Math.sin(i);c.fillStyle="#fff",3==t&&(c.fillStyle="#444");var m=String(Math.round(e.data[t]/n*100))+"%";c.fillText(e.data[t],a.x+l,a.y+s),c.fillText(m,a.x+l,a.y+s+15)}})}}},o=0,r=0;t={from:"Gene",select:["primaryIdentifier"]};(e=new imjs.Service({root:"http://www.humanmine.org/humanmine/service"})).count(t).then(function(e){o=e;new imjs.Service({root:"http://www.humanmine.org/humanmine/service"}).count({from:"Protein",select:["primaryIdentifier"]}).then(function(e){r=e;new Chart(a,{type:"pie",data:{labels:["Genes","Proteins"],datasets:[{data:[o,r],backgroundColor:["#007bff","#ffc107"]}]},options:n});var t=document.getElementById("myPieChart2");new Chart(t,{type:"pie",data:{labels:["Genes","Proteins"],datasets:[{data:[o,r],backgroundColor:["#007bff","#ffc107"]}]},options:n})})})});