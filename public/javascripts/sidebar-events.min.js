function formatAsConstraintForFilter(n){for(var i=[[],[]],t="ABCDEFGHIJKLMNOPRQSTUVWXYZ".split(""),e=0;e<n.length;e++)i[0].push({path:"organism.shortName",op:"=",value:n[e].innerHTML.split("(")[0].trim(),code:t[e]}),i[1].push(t[e]);return 1<i[1].length?i[1]=i[1].join(" or "):i[1]=i[1].join(""),i}function createSidebarEvents(){$("#organismshortnamelist li").click(function(){$(this).hasClass("checked")?($(this).removeClass("checked"),$(this).addClass("unchecked")):($(this).addClass("checked"),$(this).removeClass("unchecked"));var n=$(".checked a p").filter(".float-md-left").toArray();if(0<n.length){window.organismFilter&&clearOrganismConstraint(),window.imTableConstraint.organism=[];for(var i=0;i<n.length;i++)window.imTableConstraint.organism.push(n[i].innerHTML)}else window.imTableConstraint.organism=[],window.organismFilter&&clearOrganismConstraint();updateTableWithConstraints()}),$("#btnDatasetViewMore").click(function(){window.showingMoreDatasets||(window.showingMoreDatasets=!0,showMoreDatasetNames(),$("#btnDatasetViewMore").remove())})}function clearProteinLocalisationFilterConstraint(){for(var n=0;n<window.proteinLocalisationFilter.length;n++)try{window.imTable.query.removeConstraint(window.proteinLocalisationFilter[n])}catch(n){continue}window.expressionFilter=null}function clearExpressionFilterConstraint(){for(var n=0;n<window.expressionFilter.length;n++)try{window.imTable.query.removeConstraint(window.expressionFilter[n])}catch(n){continue}window.expressionFilter=null}function clearLocationConstraint(){for(var n=0;n<window.locationFilter.length;n++)try{window.imTable.query.removeConstraint(window.locationFilter[n])}catch(n){continue}window.locationFilter=null}function clearInteractionsConstraint(){for(var n=0;n<window.interactionsFilter.length;n++)try{window.imTable.query.removeConstraint(window.interactionsFilter[n])}catch(n){continue}window.interactionsFilter=null}function clearOrganismConstraint(){for(var n=0;n<window.organismFilter.length;n++)try{window.imTable.query.removeConstraint(window.organismFilter[n])}catch(n){continue}window.organismFilter=null}function clearClinVarConstraint(){for(var n=0;n<window.clinVarFilter.length;n++)try{window.imTable.query.removeConstraint(window.clinVarFilter[n])}catch(n){continue}window.clinVarFilter=null}function addDatasetConstraint(n){window.imTable.query.addConstraint({path:"dataSets.name",op:"==",value:n,code:n.replace(/ /g,"")})}