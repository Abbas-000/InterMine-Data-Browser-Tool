function formatAsConstraintForFilter(t){for(var e=[[],[]],o="ABCDEFGHIJKLMNOPRQSTUVWXYZ".split(""),i=0;i<t.length;i++)e[0].push({path:"organism.shortName",op:"=",value:t[i].innerHTML.split("(")[0].trim(),code:o[i]}),e[1].push(o[i]);return 1<e[1].length?e[1]=e[1].join(" or "):e[1]=e[1].join(""),e}function createSidebarEvents(){$("#organismshortnamelist li").click(function(){$(this).hasClass("checked")?$(this).removeClass("checked"):$(this).addClass("checked"),window.imTable.query.addConstraint({path:"organism.shortName",op:"==",value:$(".checked a p").toArray()[0].innerHTML})}),$("#btnDatasetViewMore").click(function(){window.showingMoreDatasets||(window.showingMoreDatasets=!0,showMoreDatasetNames(),$("#btnDatasetViewMore").remove())}),$("#locationSearchButton").click(function(){window.locationFilter&&clearLocationConstraint();var t=$("#locationChromosomeSearchInput").val(),e=$("#locationStartSearchInput").val(),o=$("#locationEndSearchInput").val();if(t||(0==$("#locationFilterAlert").length?($("#navbarResponsive").prepend("<div class='alert' id='locationFilterAlert'><span class='closebtn' id='closeLocationFilterAlert'>×</span>Please, specify a chromosome in the filter input field.</div><br/>"),$("#closeLocationFilterAlert").click(function(){$("#locationFilterAlert").hide()})):$("#locationFilterAlert").show()),$.isNumeric(e)&&$.isNumeric(o))if(parseInt(e)>parseInt(o))0==$("#locationFilterAlert").length?($("#navbarResponsive").prepend("<div class='alert' id='locationFilterAlert'><span class='closebtn' id='closeLocationFilterAlert'>×</span>The location start position must be less or equal to the end position.</div><br/>"),$("#closeLocationFilterAlert").click(function(){$("#locationFilterAlert").hide()})):$("#locationFilterAlert").show();else{window.imTable.query.addConstraint({path:"locations.start",op:"==",value:e});var i=window.imTable.query.constraints[window.imTable.query.constraints.length-1];window.imTable.query.addConstraint({path:"locations.end",op:"==",value:o});var n=window.imTable.query.constraints[window.imTable.query.constraints.length-1];window.imTable.query.addConstraint({path:"locations.locatedOn.primaryIdentifier",op:"==",value:t});var a=window.imTable.query.constraints[window.imTable.query.constraints.length-1];window.locationFilter=[i,n,a]}else 0==$("#locationFilterAlert").length?($("#navbarResponsive").prepend("<div class='alert' id='locationFilterAlert'><span class='closebtn' id='closeLocationFilterAlert'>×</span>Please, write a integer number in both the 'Start' and 'End' input fields.</div><br/>"),$("#closeLocationFilterAlert").click(function(){$("#locationFilterAlert").hide()})):$("#locationFilterAlert").show()}),$("#locationResetButton").click(function(){window.locationFilter&&clearLocationConstraint(),$("#locationStartSearchInput").val(""),$("#locationEndSearchInput").val(""),$("#locationChromosomeSearchInput").val("")})}function clearLocationConstraint(){window.imTable.query.removeConstraint(window.locationFilter[0]),window.imTable.query.removeConstraint(window.locationFilter[1]),window.imTable.query.removeConstraint(window.locationFilter[2]),window.locationFilter=null}function addDatasetConstraint(t){window.imTable.query.addConstraint({path:"dataSets.name",op:"==",value:t,code:t.replace(/ /g,"")}),console.log(window.imTable)}