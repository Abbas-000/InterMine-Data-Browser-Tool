function getItemsInClass(){return $.ajax({url:"/statistics/count/items/humanmine/Protein",type:"GET",error:function(e){console.log(e)},success:function(e){}})}$(document).ready(function(){window.currentClassView="Protein",document.title=window.currentClassView+" in HumanMine",$("#genesButton").removeClass("btn-primary").addClass("btn-default"),$("#proteinsButton").removeClass("btn-default").addClass("btn-primary");imtables.configure({TableCell:{PreviewTrigger:"click"}}),imtables.configure("TableResults.CacheFactor",20),imtables.loadDash("#dataTable",{start:0,size:25},{service:{root:"http://www.humanmine.org/humanmine/service"},query:{select:["*"],from:"Protein"}}).then(function(e){console.log("Table loaded",e)},function(e){console.error("Could not load table",e)});var i=document.getElementById("proteinsViewPieChart1");$.when(getItemsInClass()).done(function(e){for(var t=[],s=[],n=getColorsArray(e[0].response.results.length),o=0;o<e[0].response.results.length;o++)t.push(e[0].response.results[o].count),s.push(e[0].response.results[o].item);new Chart(i,{type:"pie",data:{labels:s,datasets:[{data:t,backgroundColor:n}]},options:{elements:{center:{text:"90%",color:"#FF6384",fontStyle:"Arial",sidePadding:20}},legend:{display:!0,onClick:function(e){e.stopPropagation()}},hover:{mode:"nearest",intersect:!0},tooltips:{custom:function(e){e.opacity||(document.getElementById("proteinsViewPieChart1").style.cursor="default")}}}});var r=e[0].response.results.length;5<r&&(r=5);for(o=0;o<r;o++){var l=e[0].response.results[o].item,a="("+e[0].response.results[o].count+")";$("#organismshortnamelist").append('<li class="list-group-item" style="border-width: 2px; border-style: solid; border-color: '+n[o]+';"><a class="nav-link" href="#" style="color:black; text-align:center;"><p class="float-md-left">'+l+'</p><p class="float-md-right">'+a+"</p></a></li>")}createSidebarEvents()})});